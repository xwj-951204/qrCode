(self["webpackChunkvue_1"]=self["webpackChunkvue_1"]||[]).push([[863],{2772:function(t,e,r){const o=r(8482);e.vL=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})}},8482:function(t){"use strict";const e="bold|bolder|lighter|[1-9]00",r="italic|oblique",o="small-caps",i="ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",n="px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q",a="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",s=new RegExp(`(${e}) +`,"i"),l=new RegExp(`(${r}) +`,"i"),c=new RegExp(`(${o}) +`,"i"),h=new RegExp(`(${i}) +`,"i"),u=new RegExp(`([\\d\\.]+)(${n}) *((?:${a})( *, *(?:${a}))*)`),d={},p=16;t.exports=t=>{if(d[t])return d[t];const e=u.exec(t);if(!e)return;const r={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")};let o,i,n,a;const g=t.substring(0,e.index);switch((o=s.exec(g))&&(r.weight=o[1]),(i=l.exec(g))&&(r.style=i[1]),(n=c.exec(g))&&(r.variant=n[1]),(a=h.exec(g))&&(r.stretch=a[1]),r.unit){case"pt":r.size/=.75;break;case"pc":r.size*=16;break;case"in":r.size*=96;break;case"cm":r.size*=96/2.54;break;case"mm":r.size*=96/25.4;break;case"%":break;case"em":case"rem":r.size*=p/.75;break;case"q":r.size*=96/25.4/4;break}return d[t]=r}},1966:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loop=e.conditional=e.parse=void 0;var r=function t(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;if(Array.isArray(r))r.forEach((function(r){return t(e,r,o,i)}));else if("function"===typeof r)r(e,o,i,t);else{var n=Object.keys(r)[0];Array.isArray(r[n])?(i[n]={},t(e,r[n],o,i[n])):i[n]=r[n](e,o,i,t)}return o};e.parse=r;var o=function(t,e){return function(r,o,i,n){e(r,o,i)&&n(r,t,o,i)}};e.conditional=o;var i=function(t,e){return function(r,o,i,n){var a=[],s=r.pos;while(e(r,o,i)){var l={};if(n(r,t,o,l),r.pos===s)break;s=r.pos,a.push(l)}return a}};e.loop=i},4290:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readBits=e.readArray=e.readUnsigned=e.readString=e.peekBytes=e.readBytes=e.peekByte=e.readByte=e.buildStream=void 0;var r=function(t){return{data:t,pos:0}};e.buildStream=r;var o=function(){return function(t){return t.data[t.pos++]}};e.readByte=o;var i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e){return e.data[e.pos+t]}};e.peekByte=i;var n=function(t){return function(e){return e.data.subarray(e.pos,e.pos+=t)}};e.readBytes=n;var a=function(t){return function(e){return e.data.subarray(e.pos,e.pos+t)}};e.peekBytes=a;var s=function(t){return function(e){return Array.from(n(t)(e)).map((function(t){return String.fromCharCode(t)})).join("")}};e.readString=s;var l=function(t){return function(e){var r=n(2)(e);return t?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]}};e.readUnsigned=l;var c=function(t,e){return function(r,o,i){for(var a="function"===typeof e?e(r,o,i):e,s=n(t),l=new Array(a),c=0;c<a;c++)l[c]=s(r);return l}};e.readArray=c;var h=function(t,e,r){for(var o=0,i=0;i<r;i++)o+=t[e+i]&&Math.pow(2,r-i-1);return o},u=function(t){return function(e){for(var r=o()(e),i=new Array(8),n=0;n<8;n++)i[7-n]=!!(r&1<<n);return Object.keys(t).reduce((function(e,r){var o=t[r];return o.length?e[r]=h(i,o.index,o.length):e[r]=i[o.index],e}),{})}};e.readBits=u},4184:function(t,e,r){"use strict";e.Z=void 0;var o=r(1966),i=r(4290),n={blocks:function(t){for(var e=0,r=[],o=t.data.length,n=0,a=(0,i.readByte)()(t);a!==e;a=(0,i.readByte)()(t)){if(!a)break;if(t.pos+a>=o){var s=o-t.pos;r.push((0,i.readBytes)(s)(t)),n+=s;break}r.push((0,i.readBytes)(a)(t)),n+=a}for(var l=new Uint8Array(n),c=0,h=0;h<r.length;h++)l.set(r[h],c),c+=r[h].length;return l}},a=(0,o.conditional)({gce:[{codes:(0,i.readBytes)(2)},{byteSize:(0,i.readByte)()},{extras:(0,i.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,i.readUnsigned)(!0)},{transparentColorIndex:(0,i.readByte)()},{terminator:(0,i.readByte)()}]},(function(t){var e=(0,i.peekBytes)(2)(t);return 33===e[0]&&249===e[1]})),s=(0,o.conditional)({image:[{code:(0,i.readByte)()},{descriptor:[{left:(0,i.readUnsigned)(!0)},{top:(0,i.readUnsigned)(!0)},{width:(0,i.readUnsigned)(!0)},{height:(0,i.readUnsigned)(!0)},{lct:(0,i.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,o.conditional)({lct:(0,i.readArray)(3,(function(t,e,r){return Math.pow(2,r.descriptor.lct.size+1)}))},(function(t,e,r){return r.descriptor.lct.exists})),{data:[{minCodeSize:(0,i.readByte)()},n]}]},(function(t){return 44===(0,i.peekByte)()(t)})),l=(0,o.conditional)({text:[{codes:(0,i.readBytes)(2)},{blockSize:(0,i.readByte)()},{preData:function(t,e,r){return(0,i.readBytes)(r.text.blockSize)(t)}},n]},(function(t){var e=(0,i.peekBytes)(2)(t);return 33===e[0]&&1===e[1]})),c=(0,o.conditional)({application:[{codes:(0,i.readBytes)(2)},{blockSize:(0,i.readByte)()},{id:function(t,e,r){return(0,i.readString)(r.blockSize)(t)}},n]},(function(t){var e=(0,i.peekBytes)(2)(t);return 33===e[0]&&255===e[1]})),h=(0,o.conditional)({comment:[{codes:(0,i.readBytes)(2)},n]},(function(t){var e=(0,i.peekBytes)(2)(t);return 33===e[0]&&254===e[1]})),u=[{header:[{signature:(0,i.readString)(3)},{version:(0,i.readString)(3)}]},{lsd:[{width:(0,i.readUnsigned)(!0)},{height:(0,i.readUnsigned)(!0)},{gct:(0,i.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,i.readByte)()},{pixelAspectRatio:(0,i.readByte)()}]},(0,o.conditional)({gct:(0,i.readArray)(3,(function(t,e){return Math.pow(2,e.lsd.gct.size+1)}))},(function(t,e){return e.lsd.gct.exists})),{frames:(0,o.loop)([a,c,h,s,l],(function(t){var e=(0,i.peekByte)()(t);return 33===e||44===e}))}],d=u;e.Z=d},4863:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return te}});var o=r(6252),i=r(3577);const n={class:"container"},a=(0,o.Uk)("添加数据"),s=(0,o.Uk)("刷新数据"),l=(0,o.Uk)("清空数据"),c=["href"],h=(0,o.Uk)("编辑点检信息"),u=(0,o.Uk)("删除"),d={class:"dialog-footer"},p=(0,o.Uk)("确 定"),g=(0,o.Uk)("取 消"),f=["model"],m=["prop"],w={class:"card-header"},y=(0,o.Uk)("设备名称："),v={class:"dialog-footer"},b=(0,o.Uk)("确 定"),k=(0,o.Uk)("取 消");function C(t,e,C,B,x,P){const _=(0,o.up)("HeadRouter"),D=(0,o.up)("el-button"),A=(0,o.up)("el-col"),L=(0,o.up)("el-row"),T=(0,o.up)("el-table-column"),E=(0,o.up)("vue-qr"),S=(0,o.up)("el-table"),R=(0,o.up)("el-input"),M=(0,o.up)("el-form-item"),I=(0,o.up)("el-form"),N=(0,o.up)("el-dialog"),U=(0,o.up)("el-card");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(_),(0,o._)("div",null,[(0,o._)("div",n,[(0,o.Wm)(L,{class:"mgb20"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{span:16},{default:(0,o.w5)((()=>[(0,o.Wm)(D,{type:"primary",round:"",onClick:P.handleInsert},{default:(0,o.w5)((()=>[a])),_:1},8,["onClick"]),(0,o.Wm)(D,{type:"primary",round:"",onClick:P.handleUpdate},{default:(0,o.w5)((()=>[s])),_:1},8,["onClick"])])),_:1}),(0,o.Wm)(A,{span:8},{default:(0,o.w5)((()=>[(0,o.Wm)(D,{style:{float:"right"},type:"danger",onClick:P.test},{default:(0,o.w5)((()=>[l])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,o.Wm)(S,{data:B.tableData,border:""},{default:(0,o.w5)((()=>[(0,o.Wm)(T,{prop:"num",label:"num",width:"80",align:"center"}),(0,o.Wm)(T,{prop:"name",label:"name",align:"center"},{default:(0,o.w5)((t=>[(0,o._)("a",{href:B.client_host+t.row.num,target:"_blank"},(0,i.zw)(t.row.name),9,c)])),_:1}),(0,o.Wm)(T,{prop:"age",label:"age",align:"center"}),(0,o.kq)("",!0),(0,o.Wm)(T,{label:"other",width:150,align:"center"},{default:(0,o.w5)((t=>[(0,o.Wm)(E,{text:B.client_host+t.row.num,size:100,margin:0,logoSrc:r(6949)},null,8,["text","logoSrc"])])),_:1}),(0,o.Wm)(T,{label:"操作",width:"200",align:"center"},{default:(0,o.w5)((t=>[(0,o.Wm)(D,{type:"text",icon:"Edit",onClick:e=>P.handleEdit(t.row)},{default:(0,o.w5)((()=>[h])),_:2},1032,["onClick"]),(0,o.Wm)(D,{type:"text",icon:"Delete",class:"red",onClick:e=>P.handleDelete(t.row)},{default:(0,o.w5)((()=>[u])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])]),(0,o.Wm)(N,{title:"上传服务",modelValue:B.editVisible,"onUpdate:modelValue":e[5]||(e[5]=t=>B.editVisible=t),width:"500px"},{footer:(0,o.w5)((()=>[(0,o._)("span",d,[(0,o.Wm)(D,{type:"primary",onClick:P.handleInsertPost},{default:(0,o.w5)((()=>[p])),_:1},8,["onClick"]),(0,o.Wm)(D,{onClick:e[4]||(e[4]=t=>B.editVisible=!1)},{default:(0,o.w5)((()=>[g])),_:1})])])),default:(0,o.w5)((()=>[(0,o.Wm)(I,{"label-width":"130px"},{default:(0,o.w5)((()=>[(0,o.Wm)(M,{label:"num"},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{modelValue:B.editData.num,"onUpdate:modelValue":e[0]||(e[0]=t=>B.editData.num=t)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(M,{label:"name"},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{modelValue:B.editData.name,"onUpdate:modelValue":e[1]||(e[1]=t=>B.editData.name=t)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(M,{label:"age"},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{modelValue:B.editData.age,"onUpdate:modelValue":e[2]||(e[2]=t=>B.editData.age=t)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(M,{label:"other"},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{modelValue:B.editData.other,"onUpdate:modelValue":e[3]||(e[3]=t=>B.editData.other=t)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(N,{title:"点检信息",modelValue:B.checkListVisible,"onUpdate:modelValue":e[7]||(e[7]=t=>B.checkListVisible=t),width:"500px"},{footer:(0,o.w5)((()=>[(0,o._)("span",v,[(0,o.Wm)(D,{type:"primary",onClick:P.handleEditPost},{default:(0,o.w5)((()=>[b])),_:1},8,["onClick"]),(0,o.Wm)(D,{onClick:e[6]||(e[6]=t=>B.checkListVisible=!1)},{default:(0,o.w5)((()=>[k])),_:1})])])),default:(0,o.w5)((()=>[(0,o._)("div",{model:B.checkList},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(B.checkList.parts,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:t.key,prop:"parts."+e+".part"},[(0,o.Wm)(U,{class:"box-card"},{header:(0,o.w5)((()=>[(0,o._)("div",w,[(0,o.Wm)(R,{modelValue:t.part,"onUpdate:modelValue":e=>t.part=e,size:"large",style:{width:"250px"}},{prepend:(0,o.w5)((()=>[y])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,o._)("div",null,[(0,o.Wm)(D,{icon:"Plus",circle:"",onClick:t=>P.addPart(e)},null,8,["onClick"]),1!=B.checkList.parts.length?((0,o.wg)(),(0,o.j4)(D,{key:0,icon:"Minus",circle:"",onClick:t=>P.deletePart(e)},null,8,["onClick"])):(0,o.kq)("",!0)])])])),default:(0,o.w5)((()=>[(0,o.Wm)(S,{data:t.contents,border:""},{default:(0,o.w5)((()=>[(0,o.Wm)(T,{label:"点检内容",width:"120",align:"center"},{default:(0,o.w5)((t=>[(0,o.Wm)(R,{modelValue:t.row.content,"onUpdate:modelValue":e=>t.row.content=e},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,o.Wm)(T,{label:"点检标准",align:"center"},{default:(0,o.w5)((t=>[(0,o.Wm)(R,{modelValue:t.row.standard,"onUpdate:modelValue":e=>t.row.standard=e},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,o.Wm)(T,{label:"操作",width:"100",align:"center"},{default:(0,o.w5)((e=>[(0,o.Wm)(D,{icon:"Plus",circle:"",size:"small",onClick:r=>P.addContent(t.contents,e.$index)},null,8,["onClick"]),1!=t.contents.length?((0,o.wg)(),(0,o.j4)(D,{key:0,icon:"Minus",circle:"",size:"small",onClick:r=>P.deleteContent(t.contents,e.$index)},null,8,["onClick"])):(0,o.kq)("",!0)])),_:2},1024)])),_:2},1032,["data"])])),_:2},1024)],8,m)))),128))],8,f)])),_:1},8,["modelValue"])],64)}var B=r(191);const x=["src"];function P(t,e,r,i,n,a){return r.bindElement?((0,o.wg)(),(0,o.iD)("img",{key:0,style:{display:"inline-block"},src:n.imgUrl},null,8,x)):(0,o.kq)("",!0)}function _(t){return""===t?t:"true"===t||"1"==t}function D(t,e){return new Promise(((e,r)=>{var o=new XMLHttpRequest;o.responseType="blob",o.onload=function(){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsArrayBuffer(o.response)},o.open("GET",t),o.send()}))}var A=D,L=r(2772),T=r(4184),E=r(1966),S=r(4290);const R=(t,e)=>{const r=new Array(t.length),o=t.length/e,i=function(o,i){const n=t.slice(i*e,(i+1)*e);r.splice.apply(r,[o*e,e].concat(n))},n=[0,4,2,1],a=[8,8,4,2];for(var s=0,l=0;l<4;l++)for(var c=n[l];c<o;c+=a[l])i(c,s),s++;return r},M=(t,e,r)=>{const o=4096,i=-1,n=r;var a,s,l,c,h,u,d,p,g,f;const m=new Array(r),w=new Array(o),y=new Array(o),v=new Array(o+1);for(f=t,s=1<<f,h=s+1,a=s+2,d=i,c=f+1,l=(1<<c)-1,p=0;p<s;p++)w[p]=0,y[p]=p;var b,k,C,B,x,P;for(b=k=C=B=x=P=0,g=0;g<n;){if(0===B){if(k<c){b+=e[P]<<k,k+=8,P++;continue}if(p=b&l,b>>=c,k-=c,p>a||p==h)break;if(p==s){c=f+1,l=(1<<c)-1,a=s+2,d=i;continue}if(d==i){v[B++]=y[p],d=p,C=p;continue}u=p,p==a&&(v[B++]=C,p=d);while(p>s)v[B++]=y[p],p=w[p];C=255&y[p],v[B++]=C,a<o&&(w[a]=d,y[a]=C,a++,0===(a&l)&&a<o&&(c++,l+=a)),d=u}B--,m[x++]=v[B],g++}for(g=x;g<n;g++)m[g]=0;return m},I=t=>{const e=new Uint8Array(t);return(0,E.parse)((0,S.buildStream)(e),T.Z)},N=t=>{const e=t.pixels.length,r=new Uint8ClampedArray(4*e);for(var o=0;o<e;o++){const e=4*o,i=t.pixels[o],n=t.colorTable[i];r[e]=n[0],r[e+1]=n[1],r[e+2]=n[2],r[e+3]=i!==t.transparentIndex?255:0}return r},U=(t,e,r)=>{if(!t.image)return void console.warn("gif frame does not have associated image.");const{image:o}=t,i=o.descriptor.width*o.descriptor.height;var n=M(o.data.minCodeSize,o.data.blocks,i);o.descriptor.lct.interlaced&&(n=R(n,o.descriptor.width));const a={pixels:n,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return o.descriptor.lct&&o.descriptor.lct.exists?a.colorTable=o.lct:a.colorTable=e,t.gce&&(a.delay=10*(t.gce.delay||10),a.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(a.transparentIndex=t.gce.transparentColorIndex)),r&&(a.patch=N(a)),a},O=(t,e)=>t.frames.filter((t=>t.image)).map((r=>U(r,t.gct,e)));function z(t,e,r){const o=V(e),i=t-1;let n=0;switch(r){case $.L:n=Z[i][0];break;case $.M:n=Z[i][1];break;case $.Q:n=Z[i][2];break;case $.H:n=Z[i][3];break}return o<=n}function W(t,e){for(var r=1,o=V(t),i=0,n=Z.length;i<n;i++){var a=0;switch(e){case $.L:a=Z[i][0];break;case $.M:a=Z[i][1];break;case $.Q:a=Z[i][2];break;case $.H:a=Z[i][3];break}if(o<=a)break;r++}if(r>Z.length)throw new Error("Too long data");return r}function V(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=Number(t)?3:0)}class H{constructor(t){this.mode=G.MODE_8BIT_BYTE,this.parsedData=[],this.data=t;const e=[];for(let r=0,o=this.data.length;r<o;r++){const t=[],o=this.data.charCodeAt(r);o>65536?(t[0]=240|(1835008&o)>>>18,t[1]=128|(258048&o)>>>12,t[2]=128|(4032&o)>>>6,t[3]=128|63&o):o>2048?(t[0]=224|(61440&o)>>>12,t[1]=128|(4032&o)>>>6,t[2]=128|63&o):o>128?(t[0]=192|(1984&o)>>>6,t[1]=128|63&o):t[0]=o,e.push(t)}this.parsedData=Array.prototype.concat.apply([],e),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}getLength(){return this.parsedData.length}write(t){for(let e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}}class F{constructor(t=-1,e=$.L){this.moduleCount=0,this.dataList=[],this.typeNumber=t,this.errorCorrectLevel=e,this.moduleCount=0,this.dataList=[]}addData(t){if(this.typeNumber<=0)this.typeNumber=W(t,this.errorCorrectLevel);else{if(this.typeNumber>40)throw new Error(`Invalid QR version: ${this.typeNumber}`);if(!z(this.typeNumber,t,this.errorCorrectLevel))throw new Error(`Data is too long for QR version: ${this.typeNumber}`)}const e=new H(t);this.dataList.push(e),this.dataCache=void 0}isDark(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(`${t},${e}`);return this.modules[t][e]}getModuleCount(){return this.moduleCount}make(){this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(let r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(let t=0;t<this.moduleCount;t++)this.modules[r][t]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=F.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)}setupPositionProbePattern(t,e){for(let r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(let o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(this.modules[t+r][e+o]=0<=r&&r<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=o&&o<=4)}getBestMaskPattern(){if(Number.isInteger(this.maskPattern)&&Object.values(j).includes(this.maskPattern))return this.maskPattern;let t=0,e=0;for(let r=0;r<8;r++){this.makeImpl(!0,r);const o=q.getLostPoint(this);(0==r||t>o)&&(t=o,e=r)}return e}setupTimingPattern(){for(let t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(let t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)}setupPositionAdjustPattern(){const t=q.getPatternPosition(this.typeNumber);for(let e=0;e<t.length;e++)for(let r=0;r<t.length;r++){const o=t[e],i=t[r];if(null==this.modules[o][i])for(let t=-2;t<=2;t++)for(let e=-2;e<=2;e++)this.modules[o+t][i+e]=-2==t||2==t||-2==e||2==e||0==t&&0==e}}setupTypeNumber(t){const e=q.getBCHTypeNumber(this.typeNumber);for(var r=0;r<18;r++){var o=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(r=0;r<18;r++){o=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}}setupTypeInfo(t,e){const r=this.errorCorrectLevel<<3|e,o=q.getBCHTypeInfo(r);for(var i=0;i<15;i++){var n=!t&&1==(o>>i&1);i<6?this.modules[i][8]=n:i<8?this.modules[i+1][8]=n:this.modules[this.moduleCount-15+i][8]=n}for(i=0;i<15;i++){n=!t&&1==(o>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=n:i<9?this.modules[8][15-i-1+1]=n:this.modules[8][15-i-1]=n}this.modules[this.moduleCount-8][8]=!t}mapData(t,e){let r=-1,o=this.moduleCount-1,i=7,n=0;for(let a=this.moduleCount-1;a>0;a-=2){6==a&&a--;while(1){for(let r=0;r<2;r++)if(null==this.modules[o][a-r]){let s=!1;n<t.length&&(s=1==(t[n]>>>i&1));const l=q.getMask(e,o,a-r);l&&(s=!s),this.modules[o][a-r]=s,i--,-1==i&&(n++,i=7)}if(o+=r,o<0||this.moduleCount<=o){o-=r,r=-r;break}}}}static createData(t,e,r){const o=X.getRSBlocks(t,e),i=new Y;for(var n=0;n<r.length;n++){const e=r[n];i.put(e.mode,4),i.put(e.getLength(),q.getLengthInBits(e.mode,t)),e.write(i)}let a=0;for(n=0;n<o.length;n++)a+=o[n].dataCount;if(i.getLengthInBits()>8*a)throw new Error(`code length overflow. (${i.getLengthInBits()}>${8*a})`);i.getLengthInBits()+4<=8*a&&i.put(0,4);while(i.getLengthInBits()%8!=0)i.putBit(!1);while(1){if(i.getLengthInBits()>=8*a)break;if(i.put(F.PAD0,8),i.getLengthInBits()>=8*a)break;i.put(F.PAD1,8)}return F.createBytes(i,o)}static createBytes(t,e){let r=0,o=0,i=0;const n=new Array(e.length),a=new Array(e.length);for(var s=0;s<e.length;s++){const c=e[s].dataCount,h=e[s].totalCount-c;o=Math.max(o,c),i=Math.max(i,h),n[s]=new Array(c);for(var l=0;l<n[s].length;l++)n[s][l]=255&t.buffer[l+r];r+=c;const u=q.getErrorCorrectPolynomial(h),d=new K(n[s],u.getLength()-1),p=d.mod(u);a[s]=new Array(u.getLength()-1);for(l=0;l<a[s].length;l++){const t=l+p.getLength()-a[s].length;a[s][l]=t>=0?p.get(t):0}}let c=0;for(l=0;l<e.length;l++)c+=e[l].totalCount;const h=new Array(c);let u=0;for(l=0;l<o;l++)for(s=0;s<e.length;s++)l<n[s].length&&(h[u++]=n[s][l]);for(l=0;l<i;l++)for(s=0;s<e.length;s++)l<a[s].length&&(h[u++]=a[s][l]);return h}}F.PAD0=236,F.PAD1=17;const $={L:1,M:0,Q:3,H:2},G={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},j={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};class q{static getBCHTypeInfo(t){let e=t<<10;while(q.getBCHDigit(e)-q.getBCHDigit(q.G15)>=0)e^=q.G15<<q.getBCHDigit(e)-q.getBCHDigit(q.G15);return(t<<10|e)^q.G15_MASK}static getBCHTypeNumber(t){let e=t<<12;while(q.getBCHDigit(e)-q.getBCHDigit(q.G18)>=0)e^=q.G18<<q.getBCHDigit(e)-q.getBCHDigit(q.G18);return t<<12|e}static getBCHDigit(t){let e=0;while(0!=t)e++,t>>>=1;return e}static getPatternPosition(t){return q.PATTERN_POSITION_TABLE[t-1]}static getMask(t,e,r){switch(t){case j.PATTERN000:return(e+r)%2==0;case j.PATTERN001:return e%2==0;case j.PATTERN010:return r%3==0;case j.PATTERN011:return(e+r)%3==0;case j.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case j.PATTERN101:return e*r%2+e*r%3==0;case j.PATTERN110:return(e*r%2+e*r%3)%2==0;case j.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error(`bad maskPattern:${t}`)}}static getErrorCorrectPolynomial(t){let e=new K([1],0);for(let r=0;r<t;r++)e=e.multiply(new K([1,Q.gexp(r)],0));return e}static getLengthInBits(t,e){if(1<=e&&e<10)switch(t){case G.MODE_NUMBER:return 10;case G.MODE_ALPHA_NUM:return 9;case G.MODE_8BIT_BYTE:return 8;case G.MODE_KANJI:return 8;default:throw new Error(`mode:${t}`)}else if(e<27)switch(t){case G.MODE_NUMBER:return 12;case G.MODE_ALPHA_NUM:return 11;case G.MODE_8BIT_BYTE:return 16;case G.MODE_KANJI:return 10;default:throw new Error(`mode:${t}`)}else{if(!(e<41))throw new Error(`type:${e}`);switch(t){case G.MODE_NUMBER:return 14;case G.MODE_ALPHA_NUM:return 13;case G.MODE_8BIT_BYTE:return 16;case G.MODE_KANJI:return 12;default:throw new Error(`mode:${t}`)}}}static getLostPoint(t){const e=t.getModuleCount();let r=0;for(var o=0;o<e;o++)for(var i=0;i<e;i++){let n=0;const a=t.isDark(o,i);for(let r=-1;r<=1;r++)if(!(o+r<0||e<=o+r))for(let s=-1;s<=1;s++)i+s<0||e<=i+s||0==r&&0==s||a==t.isDark(o+r,i+s)&&n++;n>5&&(r+=3+n-5)}for(o=0;o<e-1;o++)for(i=0;i<e-1;i++){let e=0;t.isDark(o,i)&&e++,t.isDark(o+1,i)&&e++,t.isDark(o,i+1)&&e++,t.isDark(o+1,i+1)&&e++,0!=e&&4!=e||(r+=3)}for(o=0;o<e;o++)for(i=0;i<e-6;i++)t.isDark(o,i)&&!t.isDark(o,i+1)&&t.isDark(o,i+2)&&t.isDark(o,i+3)&&t.isDark(o,i+4)&&!t.isDark(o,i+5)&&t.isDark(o,i+6)&&(r+=40);for(i=0;i<e;i++)for(o=0;o<e-6;o++)t.isDark(o,i)&&!t.isDark(o+1,i)&&t.isDark(o+2,i)&&t.isDark(o+3,i)&&t.isDark(o+4,i)&&!t.isDark(o+5,i)&&t.isDark(o+6,i)&&(r+=40);let n=0;for(i=0;i<e;i++)for(o=0;o<e;o++)t.isDark(o,i)&&n++;const a=Math.abs(100*n/e/e-50)/5;return r+=10*a,r}}q.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],q.G15=1335,q.G18=7973,q.G15_MASK=21522;class Q{static glog(t){if(t<1)throw new Error(`glog(${t})`);return Q.LOG_TABLE[t]}static gexp(t){while(t<0)t+=255;while(t>=256)t-=255;return Q.EXP_TABLE[t]}}Q.EXP_TABLE=new Array(256),Q.LOG_TABLE=new Array(256),Q._constructor=function(){for(var t=0;t<8;t++)Q.EXP_TABLE[t]=1<<t;for(t=8;t<256;t++)Q.EXP_TABLE[t]=Q.EXP_TABLE[t-4]^Q.EXP_TABLE[t-5]^Q.EXP_TABLE[t-6]^Q.EXP_TABLE[t-8];for(t=0;t<255;t++)Q.LOG_TABLE[Q.EXP_TABLE[t]]=t}();class K{constructor(t,e){if(void 0==t.length)throw new Error(`${t.length}/${e}`);let r=0;while(r<t.length&&0==t[r])r++;this.num=new Array(t.length-r+e);for(let o=0;o<t.length-r;o++)this.num[o]=t[o+r]}get(t){return this.num[t]}getLength(){return this.num.length}multiply(t){const e=new Array(this.getLength()+t.getLength()-1);for(let r=0;r<this.getLength();r++)for(let o=0;o<t.getLength();o++)e[r+o]^=Q.gexp(Q.glog(this.get(r))+Q.glog(t.get(o)));return new K(e,0)}mod(t){if(this.getLength()-t.getLength()<0)return this;const e=Q.glog(this.get(0))-Q.glog(t.get(0)),r=new Array(this.getLength());for(var o=0;o<this.getLength();o++)r[o]=this.get(o);for(o=0;o<t.getLength();o++)r[o]^=Q.gexp(Q.glog(t.get(o))+e);return new K(r,0).mod(t)}}class X{constructor(t,e){this.totalCount=t,this.dataCount=e}static getRSBlocks(t,e){const r=X.getRsBlockTable(t,e);if(void 0==r)throw new Error(`bad rs block @ typeNumber:${t}/errorCorrectLevel:${e}`);const o=r.length/3,i=[];for(let n=0;n<o;n++){const t=r[3*n+0],e=r[3*n+1],o=r[3*n+2];for(let r=0;r<t;r++)i.push(new X(e,o))}return i}static getRsBlockTable(t,e){switch(e){case $.L:return X.RS_BLOCK_TABLE[4*(t-1)+0];case $.M:return X.RS_BLOCK_TABLE[4*(t-1)+1];case $.Q:return X.RS_BLOCK_TABLE[4*(t-1)+2];case $.H:return X.RS_BLOCK_TABLE[4*(t-1)+3];default:return}}}X.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];class Y{constructor(){this.buffer=[],this.length=0}get(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)}put(t,e){for(let r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))}getLengthInBits(){return this.length}putBit(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}const Z=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];var J=100,tt=256,et=tt-1,rt=4,ot=16,it=1<<ot,nt=10,at=10,st=it>>at,lt=it<<nt-at,ct=tt>>3,ht=6,ut=1<<ht,dt=ct*ut,pt=30,gt=10,ft=1<<gt,mt=8,wt=1<<mt,yt=gt+mt,vt=1<<yt,bt=499,kt=491,Ct=487,Bt=503,xt=3*Bt;function Pt(t,e){var r,o,i,n,a;function s(){var t,e;for(r=[],o=new Int32Array(256),i=new Int32Array(tt),n=new Int32Array(tt),a=new Int32Array(tt>>3),t=0;t<tt;t++)e=(t<<rt+8)/tt,r[t]=new Float64Array([e,e,e,0]),n[t]=it/tt,i[t]=0}function l(){for(var t=0;t<tt;t++)r[t][0]>>=rt,r[t][1]>>=rt,r[t][2]>>=rt,r[t][3]=t}function c(t,e,o,i,n){r[e][0]-=t*(r[e][0]-o)/ft,r[e][1]-=t*(r[e][1]-i)/ft,r[e][2]-=t*(r[e][2]-n)/ft}function h(t,e,o,i,n){var s,l,c=Math.abs(e-t),h=Math.min(e+t,tt),u=e+1,d=e-1,p=1;while(u<h||d>c)l=a[p++],u<h&&(s=r[u++],s[0]-=l*(s[0]-o)/vt,s[1]-=l*(s[1]-i)/vt,s[2]-=l*(s[2]-n)/vt),d>c&&(s=r[d--],s[0]-=l*(s[0]-o)/vt,s[1]-=l*(s[1]-i)/vt,s[2]-=l*(s[2]-n)/vt)}function u(t,e,o){var a,s,l,c,h,u=~(1<<31),d=u,p=-1,g=p;for(a=0;a<tt;a++)s=r[a],l=Math.abs(s[0]-t)+Math.abs(s[1]-e)+Math.abs(s[2]-o),l<u&&(u=l,p=a),c=l-(i[a]>>ot-rt),c<d&&(d=c,g=a),h=n[a]>>at,n[a]-=h,i[a]+=h<<nt;return n[p]+=st,i[p]-=lt,g}function d(){var t,e,i,n,a,s,l=0,c=0;for(t=0;t<tt;t++){for(i=r[t],a=t,s=i[1],e=t+1;e<tt;e++)n=r[e],n[1]<s&&(a=e,s=n[1]);if(n=r[a],t!=a&&(e=n[0],n[0]=i[0],i[0]=e,e=n[1],n[1]=i[1],i[1]=e,e=n[2],n[2]=i[2],i[2]=e,e=n[3],n[3]=i[3],i[3]=e),s!=l){for(o[l]=c+t>>1,e=l+1;e<s;e++)o[e]=t;l=s,c=t}}for(o[l]=c+et>>1,e=l+1;e<256;e++)o[e]=et}function p(t,e,i){var n,a,s,l=1e3,c=-1,h=o[e],u=h-1;while(h<tt||u>=0)h<tt&&(a=r[h],s=a[1]-e,s>=l?h=tt:(h++,s<0&&(s=-s),n=a[0]-t,n<0&&(n=-n),s+=n,s<l&&(n=a[2]-i,n<0&&(n=-n),s+=n,s<l&&(l=s,c=a[3])))),u>=0&&(a=r[u],s=e-a[1],s>=l?u=-1:(u--,s<0&&(s=-s),n=a[0]-t,n<0&&(n=-n),s+=n,s<l&&(n=a[2]-i,n<0&&(n=-n),s+=n,s<l&&(l=s,c=a[3]))));return c}function g(){var r,o,i,n,s,l,d=t.length,p=30+(e-1)/3,g=d/(3*e),f=~~(g/J),m=ft,w=dt,y=w>>ht;for(y<=1&&(y=0),r=0;r<y;r++)a[r]=m*((y*y-r*r)*wt/(y*y));d<xt?(e=1,o=3):o=d%bt!==0?3*bt:d%kt!==0?3*kt:d%Ct!==0?3*Ct:3*Bt;var v=0;r=0;while(r<g)if(i=(255&t[v])<<rt,n=(255&t[v+1])<<rt,s=(255&t[v+2])<<rt,l=u(i,n,s),c(m,l,i,n,s),0!==y&&h(y,l,i,n,s),v+=o,v>=d&&(v-=d),r++,0===f&&(f=1),r%f===0)for(m-=m/p,w-=w/pt,y=w>>ht,y<=1&&(y=0),l=0;l<y;l++)a[l]=m*((y*y-l*l)*wt/(y*y))}function f(){s(),g(),l(),d()}function m(){for(var t=[],e=[],o=0;o<tt;o++)e[r[o][3]]=o;for(var i=0,n=0;n<tt;n++){var a=e[n];t[i++]=r[a][0],t[i++]=r[a][1],t[i++]=r[a][2]}return t}this.buildColormap=f,this.getColormap=m,this.lookupRGB=p}var _t=Pt,Dt=-1,At=12,Lt=5003,Tt=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function Et(t,e,r,o){var i,n,a,s,l,c,h,u,d,p=Math.max(2,o),g=new Uint8Array(256),f=new Int32Array(Lt),m=new Int32Array(Lt),w=0,y=0,v=!1;function b(t,e){g[n++]=t,n>=254&&P(e)}function k(t){C(Lt),y=l+2,v=!0,A(l,t)}function C(t){for(var e=0;e<t;++e)f[e]=-1}function B(t,e){var r,o,i,h,u,p,g;for(s=t,v=!1,d=s,a=_(d),l=1<<t-1,c=l+1,y=l+2,n=0,h=D(),g=0,r=Lt;r<65536;r*=2)++g;g=8-g,p=Lt,C(p),A(l,e);t:while((o=D())!=Dt)if(r=(o<<At)+h,i=o<<g^h,f[i]!==r){if(f[i]>=0){u=p-i,0===i&&(u=1);do{if((i-=u)<0&&(i+=p),f[i]===r){h=m[i];continue t}}while(f[i]>=0)}A(h,e),h=o,y<1<<At?(m[i]=y++,f[i]=r):k(e)}else h=m[i];A(h,e),A(c,e)}function x(r){r.writeByte(p),h=t*e,u=0,B(p+1,r),r.writeByte(0)}function P(t){n>0&&(t.writeByte(n),t.writeBytes(g,0,n),n=0)}function _(t){return(1<<t)-1}function D(){if(0===h)return Dt;--h;var t=r[u++];return 255&t}function A(t,e){i&=Tt[w],w>0?i|=t<<w:i=t,w+=d;while(w>=8)b(255&i,e),i>>=8,w-=8;if((y>a||v)&&(v?(a=_(d=s),v=!1):(++d,a=d==At?1<<At:_(d))),t==c){while(w>0)b(255&i,e),i>>=8,w-=8;P(e)}}this.encode=x}var St=Et;function Rt(){this.page=-1,this.pages=[],this.newPage()}Rt.pageSize=4096,Rt.charMap={};for(var Mt=0;Mt<256;Mt++)Rt.charMap[Mt]=String.fromCharCode(Mt);function It(t,e){this.width=~~t,this.height=~~e,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.neuQuant=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.dither=!1,this.globalPalette=!1,this.out=new Rt}Rt.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(Rt.pageSize),this.cursor=0},Rt.prototype.getData=function(){for(var t="",e=0;e<this.pages.length;e++)for(var r=0;r<Rt.pageSize;r++)t+=Rt.charMap[this.pages[e][r]];return t},Rt.prototype.toFlattenUint8Array=function(){const t=[];for(var e=0;e<this.pages.length;e++)if(e===this.pages.length-1){const r=Uint8Array.from(this.pages[e].slice(0,this.cursor));t.push(r)}else t.push(this.pages[e]);const r=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));return t.reduce(((t,e)=>(r.set(e,t),t+e.length)),0),r},Rt.prototype.writeByte=function(t){this.cursor>=Rt.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=t},Rt.prototype.writeUTFBytes=function(t){for(var e=t.length,r=0;r<e;r++)this.writeByte(t.charCodeAt(r))},Rt.prototype.writeBytes=function(t,e,r){for(var o=r||t.length,i=e||0;i<o;i++)this.writeByte(t[i])},It.prototype.setDelay=function(t){this.delay=Math.round(t/10)},It.prototype.setFrameRate=function(t){this.delay=Math.round(100/t)},It.prototype.setDispose=function(t){t>=0&&(this.dispose=t)},It.prototype.setRepeat=function(t){this.repeat=t},It.prototype.setTransparent=function(t){this.transparent=t},It.prototype.addFrame=function(t){this.image=t,this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null,this.getImagePixels(),this.analyzePixels(),!0===this.globalPalette&&(this.globalPalette=this.colorTab),this.firstFrame&&(this.writeHeader(),this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.globalPalette||this.writePalette(),this.writePixels(),this.firstFrame=!1},It.prototype.finish=function(){this.out.writeByte(59)},It.prototype.setQuality=function(t){t<1&&(t=1),this.sample=t},It.prototype.setDither=function(t){!0===t&&(t="FloydSteinberg"),this.dither=t},It.prototype.setGlobalPalette=function(t){this.globalPalette=t},It.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette},It.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")},It.prototype.analyzePixels=function(){this.colorTab||(this.neuQuant=new _t(this.pixels,this.sample),this.neuQuant.buildColormap(),this.colorTab=this.neuQuant.getColormap()),this.dither?this.ditherPixels(this.dither.replace("-serpentine",""),null!==this.dither.match(/-serpentine/)):this.indexPixels(),this.pixels=null,this.colorDepth=8,this.palSize=7,null!==this.transparent&&(this.transIndex=this.findClosest(this.transparent,!0))},It.prototype.indexPixels=function(t){var e=this.pixels.length/3;this.indexedPixels=new Uint8Array(e);for(var r=0,o=0;o<e;o++){var i=this.findClosestRGB(255&this.pixels[r++],255&this.pixels[r++],255&this.pixels[r++]);this.usedEntry[i]=!0,this.indexedPixels[o]=i}},It.prototype.ditherPixels=function(t,e){var r={FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]};if(!t||!r[t])throw"Unknown dithering kernel: "+t;var o=r[t],i=0,n=this.height,a=this.width,s=this.pixels,l=e?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var c=0;c<n;c++){e&&(l*=-1);for(var h=1==l?0:a-1,u=1==l?a:0;h!==u;h+=l){i=c*a+h;var d=3*i,p=s[d],g=s[d+1],f=s[d+2];d=this.findClosestRGB(p,g,f),this.usedEntry[d]=!0,this.indexedPixels[i]=d,d*=3;for(var m=this.colorTab[d],w=this.colorTab[d+1],y=this.colorTab[d+2],v=p-m,b=g-w,k=f-y,C=1==l?0:o.length-1,B=1==l?o.length:0;C!==B;C+=l){var x=o[C][1],P=o[C][2];if(x+h>=0&&x+h<a&&P+c>=0&&P+c<n){var _=o[C][0];d=i+x+P*a,d*=3,s[d]=Math.max(0,Math.min(255,s[d]+v*_)),s[d+1]=Math.max(0,Math.min(255,s[d+1]+b*_)),s[d+2]=Math.max(0,Math.min(255,s[d+2]+k*_))}}}}},It.prototype.findClosest=function(t,e){return this.findClosestRGB((16711680&t)>>16,(65280&t)>>8,255&t,e)},It.prototype.findClosestRGB=function(t,e,r,o){if(null===this.colorTab)return-1;if(this.neuQuant&&!o)return this.neuQuant.lookupRGB(t,e,r);for(var i=0,n=16777216,a=this.colorTab.length,s=0,l=0;s<a;l++){var c=t-(255&this.colorTab[s++]),h=e-(255&this.colorTab[s++]),u=r-(255&this.colorTab[s++]),d=c*c+h*h+u*u;(!o||this.usedEntry[l])&&d<n&&(n=d,i=l)}return i},It.prototype.getImagePixels=function(){var t=this.width,e=this.height;this.pixels=new Uint8Array(t*e*3);for(var r=this.image,o=0,i=0,n=0;n<e;n++)for(var a=0;a<t;a++)this.pixels[i++]=r[o++],this.pixels[i++]=r[o++],this.pixels[i++]=r[o++],o++},It.prototype.writeGraphicCtrlExt=function(){var t,e;this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4),null===this.transparent?(t=0,e=0):(t=1,e=2),this.dispose>=0&&(e=7&this.dispose),e<<=2,this.out.writeByte(0|e|t),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},It.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame||this.globalPalette?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},It.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},It.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes("NETSCAPE2.0"),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},It.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);for(var t=768-this.colorTab.length,e=0;e<t;e++)this.out.writeByte(0)},It.prototype.writeShort=function(t){this.out.writeByte(255&t),this.out.writeByte(t>>8&255)},It.prototype.writePixels=function(){var t=new St(this.width,this.height,this.indexedPixels,this.colorDepth);t.encode(this.out)},It.prototype.stream=function(){return this.out};var Nt=It,Ut=function(t,e,r,o){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,n){function a(t){try{l(o.next(t))}catch(e){n(e)}}function s(t){try{l(o["throw"](t))}catch(e){n(e)}}function l(t){t.done?r(t.value):i(t.value).then(a,s)}l((o=o.apply(t,e||[])).next())}))};const Ot=.4;function zt(t){if(t)return new Promise((function(r,o){if("data"==t.slice(0,4)){let i=new Image;return i.onload=function(){r(i),e(i)},i.onerror=function(){o("Image load error"),e(i)},void(i.src=t)}let i=new Image;i.setAttribute("crossOrigin","Anonymous"),i.onload=function(){r(i)},i.onerror=function(){o("Image load error")},i.src=t}));function e(t){t.onload=null,t.onerror=null}}class Wt{constructor(t){const e=Object.assign({},t);if(Object.keys(Wt.defaultOptions).forEach((t=>{t in e||Object.defineProperty(e,t,{value:Wt.defaultOptions[t],enumerable:!0,writable:!0})})),e.components?"object"===typeof e.components&&Object.keys(Wt.defaultComponentOptions).forEach((t=>{t in e.components?Object.defineProperty(e.components,t,{value:Object.assign(Object.assign({},Wt.defaultComponentOptions[t]),e.components[t]),enumerable:!0,writable:!0}):Object.defineProperty(e.components,t,{value:Wt.defaultComponentOptions[t],enumerable:!0,writable:!0})})):e.components=Wt.defaultComponentOptions,null!==e.dotScale&&void 0!==e.dotScale){if(e.dotScale<=0||e.dotScale>1)throw new Error("dotScale should be in range (0, 1].");e.components.data.scale=e.dotScale,e.components.timing.scale=e.dotScale,e.components.alignment.scale=e.dotScale}this.options=e,this.canvas=(0,L.vL)(t.size,t.size),this.canvasContext=this.canvas.getContext("2d"),this.qrCode=new F(-1,this.options.correctLevel),Number.isInteger(this.options.maskPattern)&&(this.qrCode.maskPattern=this.options.maskPattern),Number.isInteger(this.options.version)&&(this.qrCode.typeNumber=this.options.version),this.qrCode.addData(this.options.text),this.qrCode.make()}draw(){return new Promise((t=>this._draw().then(t)))}_clear(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}static _prepareRoundedCornerClip(t,e,r,o,i,n){t.beginPath(),t.moveTo(e,r),t.arcTo(e+o,r,e+o,r+i,n),t.arcTo(e+o,r+i,e,r+i,n),t.arcTo(e,r+i,e,r,n),t.arcTo(e,r,e+o,r,n),t.closePath()}static _getAverageRGB(t){const e=5,r={r:0,g:0,b:0};let o,i,n=-4;const a={r:0,g:0,b:0};let s=0;i=t.naturalHeight||t.height,o=t.naturalWidth||t.width;const l=(0,L.vL)(o,i),c=l.getContext("2d");if(!c)return r;let h;c.drawImage(t,0,0);try{h=c.getImageData(0,0,o,i)}catch(u){return r}while((n+=4*e)<h.data.length)h.data[n]>200||h.data[n+1]>200||h.data[n+2]>200||(++s,a.r+=h.data[n],a.g+=h.data[n+1],a.b+=h.data[n+2]);return a.r=~~(a.r/s),a.g=~~(a.g/s),a.b=~~(a.b/s),a}static _drawDot(t,e,r,o,i=0,n=1){t.fillRect((e+i)*o,(r+i)*o,n*o,n*o)}static _drawAlignProtector(t,e,r,o){t.clearRect((e-2)*o,(r-2)*o,5*o,5*o),t.fillRect((e-2)*o,(r-2)*o,5*o,5*o)}static _drawAlign(t,e,r,o,i=0,n=1,a,s){const l=t.fillStyle;t.fillStyle=a,new Array(4).fill(0).map(((a,s)=>{Wt._drawDot(t,e-2+s,r-2,o,i,n),Wt._drawDot(t,e+2,r-2+s,o,i,n),Wt._drawDot(t,e+2-s,r+2,o,i,n),Wt._drawDot(t,e-2,r+2-s,o,i,n)})),Wt._drawDot(t,e,r,o,i,n),s||(t.fillStyle="rgba(255, 255, 255, 0.6)",new Array(2).fill(0).map(((a,s)=>{Wt._drawDot(t,e-1+s,r-1,o,i,n),Wt._drawDot(t,e+1,r-1+s,o,i,n),Wt._drawDot(t,e+1-s,r+1,o,i,n),Wt._drawDot(t,e-1,r+1-s,o,i,n)}))),t.fillStyle=l}_draw(){var t,e,r,o,i,n,a,s,l,c,h,u,d,p,g,f,m,w,y;return Ut(this,void 0,void 0,(function*(){const v=null===(t=this.qrCode)||void 0===t?void 0:t.moduleCount,b=this.options.size;let k=this.options.margin;(k<0||2*k>=b)&&(k=0);const C=Math.ceil(k),B=b-2*k,x=this.options.whiteMargin,P=this.options.backgroundDimming,_=Math.ceil(B/v),D=_*v,A=D+2*C,T=(0,L.vL)(A,A),E=T.getContext("2d");this._clear(),E.save(),E.translate(C,C);const S=(0,L.vL)(A,A),R=S.getContext("2d");let M=null,N=[];if(this.options.gifBackground){const t=I(this.options.gifBackground);if(M=t,N=O(t,!0),this.options.autoColor){let t=0,e=0,r=0,o=0;for(let i=0;i<N[0].colorTable.length;i++){const n=N[0].colorTable[i];n[0]>200||n[1]>200||n[2]>200||(0===n[0]&&0===n[1]&&0===n[2]||(o++,t+=n[0],e+=n[1],r+=n[2]))}t=~~(t/o),e=~~(e/o),r=~~(r/o),this.options.colorDark=`rgb(${t},${e},${r})`}}else if(this.options.backgroundImage){const t=yield zt(this.options.backgroundImage);if(this.options.autoColor){const e=Wt._getAverageRGB(t);this.options.colorDark=`rgb(${e.r},${e.g},${e.b})`}R.drawImage(t,0,0,t.width,t.height,0,0,A,A),R.rect(0,0,A,A),R.fillStyle=P,R.fill()}else R.rect(0,0,A,A),R.fillStyle=this.options.colorLight,R.fill();const U=q.getPatternPosition(this.qrCode.typeNumber),z=(null===(r=null===(e=this.options.components)||void 0===e?void 0:e.data)||void 0===r?void 0:r.scale)||Ot,W=.5*(1-z);for(let t=0;t<v;t++)for(let e=0;e<v;e++){const r=this.qrCode.isDark(t,e),o=e<8&&(t<8||t>=v-8)||e>=v-8&&t<8,i=6==t&&e>=8&&e<=v-8||6==e&&t>=8&&t<=v-8;let n=o||i;for(let l=1;l<U.length-1;l++)n=n||t>=U[l]-2&&t<=U[l]+2&&e>=U[l]-2&&e<=U[l]+2;const a=e*_+(n?0:W*_),s=t*_+(n?0:W*_);if(E.strokeStyle=r?this.options.colorDark:this.options.colorLight,E.lineWidth=.5,E.fillStyle=r?this.options.colorDark:this.options.colorLight,0===U.length)n||E.fillRect(a,s,(n?1:z)*_,(n?1:z)*_);else{const r=e<v-4&&e>=v-4-5&&t<v-4&&t>=v-4-5;n||r||E.fillRect(a,s,(n?1:z)*_,(n?1:z)*_)}}const V=U[U.length-1],H=this.options.colorLight;if(E.fillStyle=H,E.fillRect(0,0,8*_,8*_),E.fillRect(0,(v-8)*_,8*_,8*_),E.fillRect((v-8)*_,0,8*_,8*_),(null===(i=null===(o=this.options.components)||void 0===o?void 0:o.timing)||void 0===i?void 0:i.protectors)&&(E.fillRect(8*_,6*_,(v-8-8)*_,_),E.fillRect(6*_,8*_,_,(v-8-8)*_)),(null===(a=null===(n=this.options.components)||void 0===n?void 0:n.cornerAlignment)||void 0===a?void 0:a.protectors)&&Wt._drawAlignProtector(E,V,V,_),null===(l=null===(s=this.options.components)||void 0===s?void 0:s.alignment)||void 0===l?void 0:l.protectors)for(let t=0;t<U.length;t++)for(let e=0;e<U.length;e++){const r=U[e],o=U[t];(6!==r||6!==o&&o!==V)&&((6!==o||6!==r&&r!==V)&&(r===V&&o===V||Wt._drawAlignProtector(E,r,o,_)))}E.fillStyle=this.options.colorDark,E.fillRect(0,0,7*_,_),E.fillRect((v-7)*_,0,7*_,_),E.fillRect(0,6*_,7*_,_),E.fillRect((v-7)*_,6*_,7*_,_),E.fillRect(0,(v-7)*_,7*_,_),E.fillRect(0,(v-7+6)*_,7*_,_),E.fillRect(0,0,_,7*_),E.fillRect(6*_,0,_,7*_),E.fillRect((v-7)*_,0,_,7*_),E.fillRect((v-7+6)*_,0,_,7*_),E.fillRect(0,(v-7)*_,_,7*_),E.fillRect(6*_,(v-7)*_,_,7*_),E.fillRect(2*_,2*_,3*_,3*_),E.fillRect((v-7+2)*_,2*_,3*_,3*_),E.fillRect(2*_,(v-7+2)*_,3*_,3*_);const F=(null===(h=null===(c=this.options.components)||void 0===c?void 0:c.timing)||void 0===h?void 0:h.scale)||Ot,$=.5*(1-F);for(let t=0;t<v-8;t+=2)Wt._drawDot(E,8+t,6,_,$,F),Wt._drawDot(E,6,8+t,_,$,F);const G=(null===(d=null===(u=this.options.components)||void 0===u?void 0:u.cornerAlignment)||void 0===d?void 0:d.scale)||Ot,j=.5*(1-G);Wt._drawAlign(E,V,V,_,j,G,this.options.colorDark,(null===(g=null===(p=this.options.components)||void 0===p?void 0:p.cornerAlignment)||void 0===g?void 0:g.protectors)||!1);const Q=(null===(m=null===(f=this.options.components)||void 0===f?void 0:f.alignment)||void 0===m?void 0:m.scale)||Ot,K=.5*(1-Q);for(let t=0;t<U.length;t++)for(let e=0;e<U.length;e++){const r=U[e],o=U[t];(6!==r||6!==o&&o!==V)&&((6!==o||6!==r&&r!==V)&&(r===V&&o===V||Wt._drawAlign(E,r,o,_,K,Q,this.options.colorDark,(null===(y=null===(w=this.options.components)||void 0===w?void 0:w.alignment)||void 0===y?void 0:y.protectors)||!1)))}if(x&&(E.fillStyle=this.options.backgroundColor,E.fillRect(-C,-C,A,C),E.fillRect(-C,D,A,C),E.fillRect(D,-C,C,A),E.fillRect(-C,-C,C,A)),this.options.logoImage){const t=yield zt(this.options.logoImage);let e=this.options.logoScale,r=this.options.logoMargin,o=this.options.logoCornerRadius;(e<=0||e>=1)&&(e=.2),r<0&&(r=0),o<0&&(o=0);const i=D*e,n=.5*(A-i),a=n;E.restore(),E.fillStyle=this.options.logoBackgroundColor,E.save(),Wt._prepareRoundedCornerClip(E,n-r,a-r,i+2*r,i+2*r,o+r),E.clip();const s=E.globalCompositeOperation;E.globalCompositeOperation="destination-out",E.fill(),E.globalCompositeOperation=s,E.restore(),E.save(),Wt._prepareRoundedCornerClip(E,n,a,i,i,o),E.clip(),E.drawImage(t,n,a,i,i),E.restore(),E.save(),E.translate(C,C)}if(M){let t,e,r,o,i,n;if(N.forEach((function(a){t||(t=new Nt(b,b),t.setDelay(a.delay),t.setRepeat(0));const{width:s,height:l}=a.dims;e||(e=(0,L.vL)(s,l),r=e.getContext("2d"),r.rect(0,0,e.width,e.height),r.fillStyle="#ffffff",r.fill()),o&&n&&s===o.width&&l===o.height||(o=(0,L.vL)(s,l),i=o.getContext("2d"),n=i.createImageData(s,l)),n.data.set(a.patch),i.putImageData(n,0,0),r.drawImage(o,a.dims.left,a.dims.top);const c=(0,L.vL)(A,A),h=c.getContext("2d");h.drawImage(e,0,0,A,A),h.rect(0,0,A,A),h.fillStyle=P,h.fill(),h.drawImage(T,0,0,A,A);const u=(0,L.vL)(b,b),d=u.getContext("2d");d.drawImage(c,0,0,b,b),t.addFrame(d.getImageData(0,0,u.width,u.height).data)})),!t)throw new Error("No frames.");if(t.finish(),Vt(this.canvas)){const e=t.stream().toFlattenUint8Array(),r=e.reduce(((t,e)=>t+String.fromCharCode(e)),"");return Promise.resolve(`data:image/gif;base64,${window.btoa(r)}`)}return Promise.resolve(Buffer.from(t.stream().toFlattenUint8Array()))}{R.drawImage(T,0,0,A,A),E.drawImage(S,-C,-C,A,A);const t=(0,L.vL)(b,b),e=t.getContext("2d");return e.drawImage(T,0,0,b,b),this.canvas=t,Vt(this.canvas)?Promise.resolve(this.canvas.toDataURL()):Promise.resolve(this.canvas.toBuffer())}}))}}function Vt(t){try{return t instanceof HTMLElement}catch(e){return"object"===typeof t&&1===t.nodeType&&"object"===typeof t.style&&"object"===typeof t.ownerDocument}}Wt.CorrectLevel=$,Wt.defaultComponentOptions={data:{scale:.4},timing:{scale:.5,protectors:!1},alignment:{scale:.5,protectors:!1},cornerAlignment:{scale:.5,protectors:!0}},Wt.defaultOptions={text:"",size:400,margin:20,colorDark:"#000000",colorLight:"rgba(255, 255, 255, 0.6)",correctLevel:$.M,backgroundImage:void 0,backgroundDimming:"rgba(0,0,0,0)",logoImage:void 0,logoScale:.2,logoMargin:4,logoCornerRadius:8,whiteMargin:!0,components:Wt.defaultComponentOptions,autoColor:!0,logoBackgroundColor:"#ffffff",backgroundColor:"#ffffff"};var Ht={props:{text:{type:String,required:!0},qid:{type:String},correctLevel:{type:Number,default:1},size:{type:Number,default:200},margin:{type:Number,default:20},colorDark:{type:String,default:"#000000"},colorLight:{type:String,default:"#FFFFFF"},bgSrc:{type:String,default:void 0},background:{type:String,default:"rgba(0,0,0,0)"},backgroundDimming:{type:String,default:"rgba(0,0,0,0)"},logoSrc:{type:String,default:void 0},logoBackgroundColor:{type:String,default:"rgba(255,255,255,1)"},gifBgSrc:{type:String,default:void 0},logoScale:{type:Number,default:.2},logoMargin:{type:Number,default:0},logoCornerRadius:{type:Number,default:8},whiteMargin:{type:[Boolean,String],default:!0},dotScale:{type:Number,default:1},autoColor:{type:[Boolean,String],default:!0},binarize:{type:[Boolean,String],default:!1},binarizeThreshold:{type:Number,default:128},callback:{type:Function,default:function(){}},bindElement:{type:Boolean,default:!0},backgroundColor:{type:String,default:"#FFFFFF"},components:{default:function(){return{data:{scale:1},timing:{scale:1,protectors:!1},alignment:{scale:1,protectors:!1},cornerAlignment:{scale:1,protectors:!0}}}}},name:"vue-qr",data(){return{imgUrl:""}},watch:{$props:{deep:!0,handler(){this.main()}}},mounted(){this.main()},methods:{async main(){if(this.gifBgSrc){const t=await A(this.gifBgSrc),e=this.logoSrc;return void this.render(void 0,e,t)}const t=this.bgSrc,e=this.logoSrc;this.render(t,e)},async render(t,e,r){const o=this;new Wt({gifBackground:r,text:o.text,size:o.size,margin:o.margin,colorDark:o.colorDark,colorLight:o.colorLight,backgroundColor:o.backgroundColor,backgroundImage:t,backgroundDimming:o.backgroundDimming,logoImage:e,logoScale:o.logoScale,logoBackgroundColor:o.logoBackgroundColor,correctLevel:o.correctLevel,logoMargin:o.logoMargin,logoCornerRadius:o.logoCornerRadius,whiteMargin:_(o.whiteMargin),dotScale:o.dotScale,autoColor:_(o.autoColor),binarize:_(o.binarize),binarizeThreshold:o.binarizeThreshold,components:o.components}).draw().then((t=>{this.imgUrl=t,o.callback&&o.callback(t,o.qid)}))}}},Ft=r(3744);const $t=(0,Ft.Z)(Ht,[["render",P]]);var Gt=$t,jt=r(2262),qt=r(9996),Qt=r(9418),Kt=r(610),Xt=r(1111),Yt=r.n(Xt),Zt={name:"Home",components:{vueQr:Gt,HeadRouter:B.Z},setup(){const t="http://"+window.location.host+"/#/check/",e="192.168.14.100:3000",r=(0,jt.iH)(0),o=(0,jt.iH)([]),i=(0,jt.iH)(!1),n=(0,jt.iH)(!1),a=(0,jt.iH)({num:"",name:"",age:"",other:""}),s=(0,jt.iH)({parts:[{part:"",contents:[{content:"",standard:""}]}]}),l=t=>{(0,qt.bM)({title:"成功",message:t,type:"success"})},c=t=>{(0,qt.bM)({title:"错误",message:t,type:"error"})};return{client_host:t,server_host:e,select_num:r,tableData:o,editVisible:i,checkListVisible:n,editData:a,checkList:s,successBox:l,errorBox:c}},methods:{handleUpdate(){var t=this;Yt().get("http://"+t.server_host+"/checkList/refresh").then((function(e){t.tableData=e.data.data})).catch((function(t){console.log(t)}))},handleInsert(){this.editData={num:"",name:"",age:"",other:""},this.editVisible=!0},handleEdit(t){this.select_num=t.num,null==t.check_list?this.checkList={parts:[{part:"",contents:[{content:"",standard:""}]}]}:this.checkList=JSON.parse(t.check_list),this.checkListVisible=!0},handleDelete(t){Qt.T.confirm("设备ID:【"+t.num+"】确定要删除吗？","提示",{type:"warning"}).then((()=>{var e=this;Yt().get("http://"+e.server_host+"/checkList/delete/"+t.num).then((function(t){"200"!=t.data.code?Kt.z8.error("删除失败"):(Kt.z8.success("删除成功"),e.handleUpdate())})).catch((function(t){Kt.z8.error("请求失败")}))})).catch((()=>{}))},handleInsertPost(){var t=this;Yt().post("http://"+t.server_host+"/checkList/insert",t.editData).then((function(e){t.handleUpdate(),t.editVisible=!1,Kt.z8.success("添加成功!")})).catch((function(t){console.log(t)}))},addPart(t){var e={part:"",contents:[{content:"",standard:""}]};this.checkList.parts.splice(t+1,0,e)},deletePart(t){this.checkList.parts.splice(t,1)},addContent(t,e){var r={content:"",standard:""};t.splice(e+1,0,r)},deleteContent(t,e){t.splice(e,1)},handleEditPost(){var t=this;Yt().post("http://"+t.server_host+"/checkList/insertCheckList/"+t.select_num,t.checkList).then((function(e){t.handleUpdate(),t.checkListVisible=!1,Kt.z8.success("点检信息编辑成功!")})).catch((function(t){console.log(t)}))},test(){console.log("http://"+this.server_host+"/checkList/refresh")}},mounted(){this.$nextTick((function(){this.handleUpdate()}))}};const Jt=(0,Ft.Z)(Zt,[["render",C]]);var te=Jt}}]);
//# sourceMappingURL=863.aa40ca2f.js.map